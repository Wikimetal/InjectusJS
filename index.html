<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Injectus JS : Dependency Injection Library for JS" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link rel="icon" type="image/x-icon" href="https://github.com/favicon.ico" />
    <title>Injectus JS</title>
  </head>

  <body>
    <div class="bgimg"></div>
      <!-- HEADER -->
      <div id="header_wrap" class="outer">
          <header class="inner">
            <h1 id="project_title">Injectus JS</h1>
            <h2 id="project_tagline">Dependency Injection Library for Javascript</h2>
          </header>
      </div>
    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
    <section id="downloads">
      <a class="zip_download_link" href="https://github.com/Wikimetal/InjectusJS/zipball/master">Download this project as a .zip file</a>
      <a class="tar_download_link" href="https://github.com/Wikimetal/InjectusJS/tarball/master">Download this project as a tar.gz file</a>
      <a class="github_link" href="https://github.com/Wikimetal/InjectusJS">View on GitHub</a>
    </section>
    <section id="main_content" class="inner">
<p>How it works?</p>

<ul>
<li>
<p>Fist you should define your classes and interfaces. Remember that in javascript interfaces are simulated.</p>

<p><em>Define the interface</em><br><strong>function IInterface(){}</strong>  </p>

<p><em>Define the class and "implement" the interface</em><br><strong>function MyClass(){}</strong><br><strong>MyClass.prototype=Object.create(IInterface.prototype);</strong> <em>&lt;-- Here we "implement"</em></p>
</li>
<li>
<p>Let's say  that our "MyClass" has two dependecies: ISingletonDependency and ITransientDependency</p>

<p><em>Define the ISingletonDependency</em><br><strong>function ISingletonDependency(){}</strong>  </p>

<p><em>Define the ITransientDependency</em><br><strong>function ITransientDependency(){}</strong>  </p>

<p><em>Implementation for ISingletonDependency</em><br><strong>function SingletonDependency(){}</strong><br><strong>SingletonDependency.prototype=new ISingletonDependency();</strong>  </p>

<p><em>Implementation for ITransientDependency</em><br><strong>function TransientDependency(){}</strong><br><strong>TransientDependency.prototype=new ITransientDependency();</strong>  </p>

<p><em>now let's  tell our MyClass that will have two new dependencies:</em><br><strong>MyClass.Dependencies=new Array("ISingletonDependency", "ITransientDependency");</strong></p>
</li>
<li>
<p>Now we've got our Objects defined. All objects have their own interface. Let's register them:</p>

<p><em>We create a component for an interface and assign an implementation and a life time</em><br><strong>Injectus.Register(Component.From(ISingletonDependency).ImplementedBy(SingletonDependency).WithLifestyle(LifeStyleType.Singleton));</strong><br><strong>Injectus.Register(Component.From(ITransientDependency).ImplementedBy(TransientDependency).WithLifestyle(LifeStyleType.Transient));</strong><br><strong>Injectus.Register(Component.From(IInterface).ImplementedBy(MyClass).WithLifestyle(LifeStyleType.Transient));</strong></p>
</li>
<li>
<p>Once registered we are ready to use our objects!!</p>

<p><em>In order to resolve we'll just need to call Resolve method with the desired "interface"</em><br><strong>var myClass=Injectus.Resolve(IInterface);</strong>  </p>
</li>
<li>
<p>We can also define our max dependencies limit. By default is set to 5 dependencies but you can increase it by calling:<p>

<p><strong>Injectus.SetMaxDependenciesNumber(newMaxLimit)</strong></p>
<p><em>It will only update the limit if is higher than current in order to preserver compatibility with previously registered components</em></p>
</li>
<li><p>By performing a call to <em>Injectus.GetMetrics().PrintLog()</em> it will print into the debugging console of the browser (if exists) a list of registered components and how many times they've been resolved.</p></li>
<li><p>For more details. Please have a look to the InjectusJSTest inside /test/lib. There you'll have a nice Jasmine test which will help you to understand how it works</p></li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <!--<div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Injectus JS maintained by <a href="https://github.com/Wikimetal">Wikimetal</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>-->

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-38567321-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
